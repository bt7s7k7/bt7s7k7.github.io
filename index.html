<html>
<head>
	<script src="stuff/bUtils.js"></script>
	<script src="stuff/canvas.js"></script>
	<link rel="stylesheet" type="text/css" href="stuff/btStyle.css">
	<script>
		var galleryList = [
			"1.png",
			"2.png",
			"3.png",
			"4.jpg",
			"5.png",
			"6.png",
			"7.png",
			"8.png",
			"9.bmp",
			"10.png",
			"11.jpg",
			"12.png"
		]

		var galleryImgs = []

		var galleryID = 0;
		var galleryTime = 2000
		var lastGalleryTime = 0
		var gallUpdatesPossible = false
		var gallAnimTime = 100

		function setup() {
			lastGalleryTime = Date.now()
			var done = 0
			galleryList.forEach((v, i) => {
				galleryImgs[i] = document.createElement("img")
				galleryImgs[i].src = "gallery/" + v
				galleryImgs[i].addEventListener("load", () => {
					done++
					if (done >= galleryList.length) {
						gallUpdatesPossible = true;
						lastGalleryTime = Date.now()
					}
				})
			})
		}

		function update() {
			if (gallUpdatesPossible) {
				var timeDelta = Date.now() - lastGalleryTime
				if (E.gallery.src != galleryImgs[galleryID].src) {
					E.gallery.src = galleryImgs[galleryID].src
				}
				var frac = 1
				var currImg = galleryImgs[galleryID]

				if (timeDelta < gallAnimTime) {
					frac = timeDelta / gallAnimTime
				} else if (timeDelta > galleryTime - gallAnimTime) {
					frac = 1 - (timeDelta - (galleryTime - gallAnimTime)) / gallAnimTime
				}

				E.gallery.setSize([((window.getSize()[1] - 100) * 0.75) * (currImg.naturalWidth / currImg.naturalHeight) * frac, ((window.getSize()[1] - 100) * 0.75)])

				if (timeDelta > galleryTime) {
					galleryID = Math.overflow(galleryID + 1, 0, galleryImgs.length - 1)
					lastGalleryTime = Date.now()
				}
			}
		}

		function gallNext() {
			lastGalleryTime = galleryTime - gallAnimTime
		}
	</script>

</head>
<body>
	<div style="position:absolute;top:0px;left:0px;background-color:#0d0d0d;width:100%;height:100px">
		<img src="stuff/logo.png" style="position:absolute;top:5px;left:5px;height:90px;width:90px" />
		<span style="color:yellow;font-family:Arial;font-size:50px;position:absolute;top:25px;left:110px">bt7s7k7 / Bt SK / Branislav Trstenský</span>
	</div>
	<div style="position:absolute;top:100px;left:0px;width:100%;height: calc(100% - 100px);background-color:#0b161d;text-align:center">
		<img id="gallery" style="position:relative;top:50%;transform:translateY(-50%)" onclick="gallNext()" />
	</div>
	<div style="position:absolute;top:100%;left:0px;background-color:#0d0d0d;width:calc(100% - 30px);height:90px;padding: 25px 5px 5px 25px">
		<span style="text-align:left;color:yellow;font-size:50px">Stránky</span>
		<div style="position:absolute;top:0px;left:calc(100%);text-wrap:none;transform:translateX(-100%);width:calc(90px + 50px + 90px)">
			<a href="https://github.com/bt7s7k7"><img src="stuff/github.png" style="height:90px;width:90px" /></a>
			<div style="width:25px;height:25px;display:inline-block"> </div>
			<a href="https://www.youtube.com/channel/UC6L4aSMM7i36iaLEsK3NThQ"><img src="https://lh3.googleusercontent.com/4TR7dlSEhUdySTcbWWmSdTqgeoBkMntBcDw1LWqKlI9wSZOk1rqjcgFE6w1hyzFDbQM=w300" style="height:90px;width:90px" /></a>
		</div>
	</div>
	<!--<div style="position:absolute;top:calc(100px + 100%);left:0px;width:100%;height: calc(100% - 100px);background-color:#0b161d;">
		<ul style="color:yellow;text-decoration:none;font-weight:700;font-size:24px">
			<li><a href="platform.html" style="color:inherit;text-decoration:inherit">Platform</a></li>
			<li><a href="cpu.html" style="color:inherit;text-decoration:inherit">CPU Simulator</a></li>
			<li><a href="animation.html" style="color:inherit;text-decoration:inherit">Animator</a></li>
			<li><a href="fractal.html" style="color:inherit;text-decoration:inherit">Fractal</a></li>
			<li><a href="3dMaze.html" style="color:inherit;text-decoration:inherit">Bludisko</a></li>
		</ul>
	</div>-->
	<div style="position:absolute;top:calc(100px + 100%);left:0px;width:100%;height: calc(100% - 100px);background-color:#0b161d;display:grid;grid-template-columns:repeat(3,calc(100% / 3));grid-template-rows:repeat(2,calc(50%));overflow:no-display">
		<div style="text-align:center;color:white;font-size:25px;text-decoration:none">
			<a style="color:inherit;text-decoration:inherit" href="platform.html">
				<div style="width:100%;height:calc(50% - 50px);text-align:center;overflow:hidden;text-align:center">
					<img style="width: 100%;height:auto;image-rendering:pixelated" src="otherImages/platform.png" />
				</div>
				<div style="width:100%;padding-top:10px;">
					Platform
				</div>
			</a>
		</div>

		<div style="text-align:center;color:white;font-size:25px;text-decoration:none">
			<a style="color:inherit;text-decoration:inherit" href="cpu.html">
				<div style="width:100%;height:calc(50% - 50px);text-align:center;overflow:hidden;text-align:center">
					<img style="width: 100%;height:auto" src="otherImages/cpuSim.bmp" />
				</div>
				<div style="width:100%;padding-top:10px;">
					CPU Simulátor
				</div>
			</a>
		</div>

		<div style="text-align:center;color:white;font-size:25px;text-decoration:none">
			<a style="color:inherit;text-decoration:inherit" href="fractal.html">
				<div style="width:100%;height:calc(50% - 50px);text-align:center;overflow:hidden;text-align:center">
					<img style="width: 100%;height:auto" src="otherImages/avandgard.png" />
				</div>
				<div style="width:100%;padding-top:10px;">
					Fractal
				</div>
			</a>
		</div>

		<div style="text-align:center;color:white;font-size:25px;text-decoration:none">
			<a style="color:inherit;text-decoration:inherit" href="animation.html">
				<div style="width:100%;height:calc(50% - 50px);text-align:center;overflow:hidden;text-align:center">
					<img style="width: 100%;height:auto" src="otherImages/anim.bmp" />
				</div>
				<div style="width:100%;padding-top:10px;">
					Animátor
				</div>
			</a>
		</div>

		<div style="text-align:center;color:white;font-size:25px;text-decoration:none">
			<a style="color:inherit;text-decoration:inherit" href="3dMaze.html">
				<div style="width:100%;height:calc(50% - 50px);text-align:center;overflow:hidden;text-align:center">
					<img style="width: 100%;height:auto;position:relative;bottom:100px" src="otherImages/maze.png" />
				</div>
				<div style="width:100%;padding-top:10px;">
					Bludisko
				</div>
			</a>
		</div>

	</div>
</body>
</html>